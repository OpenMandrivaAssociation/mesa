From b16e803571c78adc3e9fa1dad8b2b7fe8bfaccd7 Mon Sep 17 00:00:00 2001
From: Chia-I Wu <olvaffe@gmail.com>
Date: Mon, 25 Sep 2023 16:49:18 -0700
Subject: [PATCH 390/834] anv: remove unused field from anv_image_view

image_plane is unused.

Signed-off-by: Chia-I Wu <olvaffe@gmail.com>
Reviewed-by: Lionel Landwerlin <lionel.g.landwerlin@intel.com>
Part-of: <https://gitlab.freedesktop.org/mesa/mesa/-/merge_requests/25467>
---
 src/intel/vulkan/anv_image.c   | 4 ----
 src/intel/vulkan/anv_private.h | 2 --
 2 files changed, 6 deletions(-)

diff --git a/src/intel/vulkan/anv_image.c b/src/intel/vulkan/anv_image.c
index 2b61e9587a0..fff628fa04f 100644
--- a/src/intel/vulkan/anv_image.c
+++ b/src/intel/vulkan/anv_image.c
@@ -3114,16 +3114,12 @@ anv_CreateImageView(VkDevice _device,
     * planes in the image view.
     */
    anv_foreach_image_aspect_bit(iaspect_bit, image, iview->vk.aspects) {
-      const uint32_t iplane =
-         anv_aspect_to_plane(image->vk.aspects, 1UL << iaspect_bit);
       const uint32_t vplane =
          anv_aspect_to_plane(iview->vk.aspects, 1UL << iaspect_bit);
       struct anv_format_plane format;
       format = anv_get_format_plane(device->info, iview->vk.view_format,
                                     vplane, image->vk.tiling);
 
-      iview->planes[vplane].image_plane = iplane;
-
       iview->planes[vplane].isl = (struct isl_view) {
          .format = format.isl_format,
          .base_level = iview->vk.base_mip_level,
diff --git a/src/intel/vulkan/anv_private.h b/src/intel/vulkan/anv_private.h
index 65fbdb51b3f..03897cd6694 100644
--- a/src/intel/vulkan/anv_private.h
+++ b/src/intel/vulkan/anv_private.h
@@ -5002,8 +5002,6 @@ struct anv_image_view {
 
    unsigned n_planes;
    struct {
-      uint32_t image_plane;
-
       struct isl_view isl;
 
       /**
-- 
2.42.0

